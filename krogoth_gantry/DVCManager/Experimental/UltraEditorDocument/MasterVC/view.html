<div layout="row">
    <div flex="20">

    </div>
    <div flex="60" ng-cloak>
        <div style="color: white;">
            <div class="md-display-1">Select Master View Controller</div>
        </div>
    </div>
    <div flex="20">

    </div>
</div>

<script type="text/ng-template" id="nodes_renderer.html">
    <md-whiteframe ui-tree-handle
                   layout-padding
                   class="tree-node tree-node-content md-whiteframe-1dp tile-bg-4"
                   layout="row">

        <div>&nbsp;</div>

        <a class="btn btn-secondary md-fab"
           ng-if="node.nodes && node.nodes.length > 0"
           data-nodrag
           ng-click="vm.toggle(this)"><span
                class="mdi"
                ng-class="{
          'mdi-folder': collapsed,
          'mdi-folder-open': !collapsed
        }"></span>

            <md-tooltip md-visible="demo.showTooltip">Browse {{ node.title }}</md-tooltip>
        </a>
        <section ng-if="node.canRemove === true">

            <span class="badge badge-dark">
                {{ node.title }}
            </span>

        </section>
        <section ng-if="node.canRemove === false">

            <span class="badge badge-warning">
                {{ node.id }}
            </span>


            <strong>
                {{ node.title }}
            </strong>

            <span class="badge badge-success md-display-3">
                {{ node.nodes.length }}
            </span>
        </section>

        <div flex></div>

        <a class="btn btn-outline-warning"
           ng-if="node.canEdit === true"
           data-nodrag
           layout-wrap
           style="padding:10px"
           ng-click="vm.loadFileIntoEditor(node.id, node.class)">
            <span class="mdi mdi-pencil"></span>
            <!--            <span class="mdi mdi-circle"></span>-->
            <md-tooltip md-visible="demo.showTooltip">
                Open {{ node.title }} in editor
            </md-tooltip>
        </a>
        <a class="btn btn-danger"
           ng-if="node.canRemove === true"
           data-nodrag
           layout-wrap
           style="padding:10px"
           ng-click="vm.remove(this)">
            <span class="glyphicon glyphicon-remove"></span>
            <md-tooltip md-visible="demo.showTooltip">
                Delete {{ node.title }}
            </md-tooltip>
        </a>
        <div>&nbsp;</div>
        <a class="btn btn-primary"
           ng-if="node.canRemove === true"
           data-nodrag
           layout-wrap
           data-max-depth="1"
           style="padding:10px"
           ng-click="vm.newSubItem(this)"
           style="margin-right: 8px;">
            <span class="glyphicon glyphicon-plus"></span>
            <md-tooltip md-visible="demo.showTooltip">
                Add new component to {{ node.title }}
            </md-tooltip>
        </a>
    </md-whiteframe>
    <ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}" ng-show="!collapsed">
        <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'">
        </li>
    </ol>
</script>


<div layout="row">
    <div flex="20">
    </div>
    <div flex="60" ng-cloak>
        <div ui-tree id="tree-root">
            <ol ui-tree-nodes
                ng-model="vm.treeData"
                layout="column"
                layout-fill
                class="whitebg">
                <li ng-repeat="node in vm.treeData" ui-tree-node ng-include="'nodes_renderer.html'"></li>
            </ol>
        </div>
    </div>
    <div flex="20">

    </div>
</div>


<div layout="row">
    <div flex="30">

    </div>
    <div flex="60" ng-cloak>
        <h1>
            <strong class="badge badge-info">{{ vm.mostRecentRESTfulCall }}</strong>
        </h1>
    </div>
    <div flex="10">
        <button class="btn btn-outline-warning"
                style="color:black"
                ng-click="vm.parallelRESTfulStart()">
            Call Server
        </button>
    </div>
</div>


<!-- -->


<ui-codemirror
        ui-codemirror-opts="vm.editorOptions"
        ui-codemirror="{onLoad:vm.codemirrorLoaded}">
</ui-codemirror>


<div style="color: white;">
    <div class="md-display-1">Select Master View Controller</div>
</div>
<div layout="row">
    <div flex="20">

    </div>
    <div flex="60" ng-cloak>
        <strong class="badge badge-info">messages</strong>
    </div>
    <div flex="20">

    </div>
</div>

